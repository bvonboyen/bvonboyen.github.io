---
layout: null
---
[
  {%- assign pages = site.pages | where_exp: "p","p.search != false" -%}
  {%- assign posts = site.posts -%}
  {%- assign docs  = site.documents | default: empty -%} {# collections, if any #}
  {%- assign items = posts | concat: pages | concat: docs -%}
  {%- for item in items -%}
  {%- assign url = item.url | absolute_url -%}
  {
    "title": {{ item.title | default: item.name | jsonify }},
    "url": {{ url | jsonify }},
    "date": {{ item.date | date: "%Y-%m-%d" | jsonify }},
    "content": {{ (item.content | markdownify | strip_html | normalize_whitespace) | jsonify }}
  }{%- unless forloop.last -%},{%- endunless -%}
  {%- endfor -%}
]